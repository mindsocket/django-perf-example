(window.location.host.indexOf("soundcloud")==-1||Math.random()<.5)&&function(e,t){var n,r,i=navigator.userAgent.toLowerCase();if(typeof performance=="object"&&!("MozAppearance"in t.documentElement.style&&!navigator.doNotTrack)&&i.indexOf("chromeframe")==-1){var s;s=e.performance||e.msPerformance||e.webkitPerformance||e.mozPerformance,s&&s.timing&&(r=1)}e.matchMedia=e.matchMedia||function(e,t){var n,r=e.documentElement,i=r.firstElementChild||r.firstChild,s=e.createElement("body"),o=e.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",s.appendChild(o),function(e){return o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',r.insertBefore(s,i),n=o.offsetWidth==42,r.removeChild(s),{matches:n,media:e}}}(t);if(matchMedia("only screen and (max-device-width: 640px)").matches)n=1;else{var o;try{t.createEvent("TouchEvent"),o=1}catch(u){}o==1&&i.indexOf("ipad")==-1&&i.indexOf("android 3")==-1&&!e.chrome&&(n=1)}var a=!!function(){var e,t=+(new Date);try{return localStorage.setItem(t,t),e=localStorage.getItem(t)==t,localStorage.removeItem(t),e}catch(n){}}()&&localStorage;if(a){var f=36e5,l={1:"hwnd.cdnplanet.com",3:"internap1.cdnplanet.com",7:"ec.cdnplanet.com",8:"cdnw.cdnplanet.com",9:"cachefly.cdnplanet.com",10:"lvl3.cdnplanet.com",11:"cloudfront.cdnplanet.com",15:"netdna.cdnplanet.com",17:"fastly.cdnplanet.com",18:"bg.cdnplanet.com",19:"cdn77.cdnplanet.com",20:"cc.cdnplanet.com",21:"tf.cdnplanet.com",22:"llnw.cdnplanet.com",23:"llnw1.cdnplanet.com",24:"llnw2.cdnplanet.com",25:"llnw3.cdnplanet.com",26:"llnw4.cdnplanet.com",30:"azion.cdnplanet.com",31:"ananke.cdnplanet.com",32:"upx.cdnplanet.com",33:"medianova.cdnplanet.com",34:"distil.cdnplanet.com",55:"dogfood.turbobytes.com",96:"o2.aolcdn.com",111:"s3-us-east.cdnplanet.com",112:"s3-sg.cdnplanet.com",113:"s3-ie.cdnplanet.com",151:"netdnasl.cdnplanet.com",152:"netdnasea.cdnplanet.com",153:"netdna-sg.cdnplanet.com",507:"ecssl.turbobytes.net",520:"ccssl.turbobytes.net"},c={},h=[],p=(new Date).getTime(),d=3,v=5e3,m=0,g=[],y=[];for(var b in l)h.push(b);for(var b in l){var w=a.getItem("lastBeacon"+b);if(w!=null&&p-parseInt(w)<f){var E=h.indexOf(b);E!=-1&&h.splice(E,1)}}if(h.length==0)return;h.length<d&&(d=h.length);var S=new Image;S.src="http://"+Math.round(Math.random()*1e6).toString(36)+(new Date).getTime().toString(36)+Math.round(Math.random()*1e6).toString(36)+".dns.cdnplanet.com/dnstest.png";var x={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="",n,r,i,s,o,u,a,f=0;while(f<e.length)n=e.charCodeAt(f++),r=e.charCodeAt(f++),i=e.charCodeAt(f++),s=n>>2,o=(n&3)<<4|r>>4,u=(r&15)<<2|i>>6,a=i&63,isNaN(r)?u=a=64:isNaN(i)&&(a=64),t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a);return t}};function T(e,t){if(y.indexOf(parseInt(e))==-1){y.push(parseInt(e));var n=new Image;n.src="http://rum.cdnplanet.com/v2?beacon="+encodeURIComponent(x.encode(JSON.stringify(t))),a.setItem("lastBeacon"+e,p)}}function N(e){g.indexOf(parseInt(e))==-1&&(g.push(parseInt(e)),m+=1,m<d&&C(k[m],L[m]))}function C(e,i){var s=t.body,o=t.createElement("iframe"),u=new Image,a,f,l={cdn:parseInt(e),status:!1};setTimeout(function(){T(e,l)},v);if(r==1)i=="o2.aolcdn.com"?o.src="http://o2.aolcdn.com/os/aol/50kb-20111128.html?cdn="+e:o.src="http://"+i+"/static/rum/50kb-20111128.html?cdn="+e+"&t="+p,o.width=o.height=30,o.style.cssText="display:none;z-index:-999;margin:0;border:0;overflow:scroll;color:white;background-color:#ccc;",o.onload=function(){N(e)},s.appendChild(o);else if(n==1){l.mobile=!0;var c=(new Date).getTime();u.width=u.height=0,u.onerror=function(){N(e),T(e,l)},u.onload=function(){a=(new Date).getTime(),f=a-c;var t={cdn:parseInt(e),timing:{total:f},status:!0,mobile:!0};N(e),T(e,t)},i=="o2.aolcdn.com"?u.src="http://o2.aolcdn.com/os/aol/image-15kb.jpg":u.src="http://"+i+"/static/rum/image-15kb.jpg?"+p}}var k=[],L=[];function A(e){var t=e[Math.floor(Math.random()*e.length)],n=e.indexOf(t);n!=-1&&e.splice(n,1);for(var r in l)r==t&&(k.push(t),L.push(l[r]))}for(var O=0;O<d;O++)A(h);function M(e){var t="http://"+L[0],n="http://"+L[1],r="http://"+L[2];if(e.origin==t||e.origin==n||e.origin==r){var i=JSON.parse(e.data),s=i.cdn;N(s),T(s,i)}}r==1&&e.addEventListener("message",M,!1),(r==1||n==1)&&C(k[0],L[0])}}(window,document)
